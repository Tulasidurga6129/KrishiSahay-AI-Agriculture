<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>KrishiSahay ‚Äî AI Agricultural Assistant</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@300;400;500;600&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet" />
<style>
  :root {
    --soil: #1a1208;
    --bark: #2d1f0a;
    --moss: #2e4a1e;
    --leaf: #4a7c30;
    --sprout: #7ab648;
    --sun: #e8c547;
    --dew: #a8d5e2;
    --clay: #c4874a;
    --cream: #f5f0e8;
    --fog: #e8e2d8;
    --ink: #1a1208;
    --muted: #8a7a6a;
    --card: #faf7f2;
    --glow: rgba(122, 182, 72, 0.15);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--cream);
    color: var(--ink);
    overflow-x: hidden;
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ HERO ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .hero {
    position: relative;
    min-height: 100vh;
    background: var(--soil);
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .hero-bg {
    position: absolute; inset: 0;
    background:
      radial-gradient(ellipse 80% 60% at 60% 40%, rgba(74,124,48,0.25) 0%, transparent 70%),
      radial-gradient(ellipse 50% 50% at 20% 80%, rgba(232,197,71,0.1) 0%, transparent 60%),
      radial-gradient(ellipse 40% 40% at 80% 90%, rgba(168,213,226,0.08) 0%, transparent 60%);
  }

  .grain {
    position: absolute; inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.05'/%3E%3C/svg%3E");
    opacity: 0.4;
    pointer-events: none;
  }

  .nav {
    position: relative; z-index: 10;
    display: flex; align-items: center; justify-content: space-between;
    padding: 28px 60px;
    border-bottom: 1px solid rgba(255,255,255,0.06);
  }

  .nav-logo {
    display: flex; align-items: center; gap: 12px;
  }

  .logo-icon {
    width: 40px; height: 40px;
    background: linear-gradient(135deg, var(--sprout), var(--leaf));
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 20px;
    box-shadow: 0 0 20px rgba(122,182,72,0.4);
  }

  .logo-text {
    font-family: 'Playfair Display', serif;
    font-size: 22px; font-weight: 700;
    color: var(--cream);
    letter-spacing: -0.5px;
  }

  .logo-text span { color: var(--sprout); }

  .nav-pills {
    display: flex; gap: 8px;
  }

  .pill {
    padding: 6px 16px;
    border-radius: 999px;
    font-size: 13px; font-weight: 500;
    color: rgba(245,240,232,0.6);
    border: 1px solid rgba(255,255,255,0.1);
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
  }

  .pill:hover, .pill.active {
    color: var(--sprout);
    border-color: var(--sprout);
    background: rgba(122,182,72,0.1);
  }

  .nav-cta {
    padding: 9px 22px;
    background: var(--sprout);
    color: var(--soil);
    border-radius: 8px;
    font-size: 13px; font-weight: 600;
    cursor: pointer;
    border: none;
    transition: all 0.2s;
  }

  .nav-cta:hover { background: #8ecf58; transform: translateY(-1px); }

  .hero-content {
    position: relative; z-index: 5;
    flex: 1;
    display: flex;
    align-items: center;
    padding: 60px 60px 80px;
    gap: 60px;
  }

  .hero-left { flex: 1; }

  .hero-badge {
    display: inline-flex; align-items: center; gap: 8px;
    padding: 6px 14px;
    background: rgba(122,182,72,0.15);
    border: 1px solid rgba(122,182,72,0.3);
    border-radius: 999px;
    font-size: 12px; font-weight: 500;
    color: var(--sprout);
    margin-bottom: 28px;
    animation: fadeUp 0.6s ease both;
  }

  .badge-dot {
    width: 6px; height: 6px;
    background: var(--sprout);
    border-radius: 50%;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.3); }
  }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(42px, 5vw, 72px);
    font-weight: 900;
    line-height: 1.05;
    color: var(--cream);
    margin-bottom: 24px;
    animation: fadeUp 0.6s 0.1s ease both;
  }

  h1 em {
    font-style: normal;
    color: var(--sprout);
    position: relative;
  }

  h1 em::after {
    content: '';
    position: absolute;
    bottom: 2px; left: 0; right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--sprout), transparent);
    border-radius: 2px;
  }

  .hero-desc {
    font-size: 17px; font-weight: 300;
    color: rgba(245,240,232,0.65);
    line-height: 1.7;
    max-width: 520px;
    margin-bottom: 40px;
    animation: fadeUp 0.6s 0.2s ease both;
  }

  .hero-actions {
    display: flex; gap: 14px; flex-wrap: wrap;
    animation: fadeUp 0.6s 0.3s ease both;
  }

  .btn-primary {
    padding: 14px 30px;
    background: linear-gradient(135deg, var(--sprout), var(--leaf));
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 15px; font-weight: 600;
    cursor: pointer;
    transition: all 0.25s;
    box-shadow: 0 4px 20px rgba(122,182,72,0.35);
    font-family: 'DM Sans', sans-serif;
  }

  .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(122,182,72,0.45); }

  .btn-outline {
    padding: 14px 30px;
    background: transparent;
    color: var(--cream);
    border: 1.5px solid rgba(245,240,232,0.25);
    border-radius: 10px;
    font-size: 15px; font-weight: 500;
    cursor: pointer;
    transition: all 0.25s;
    font-family: 'DM Sans', sans-serif;
  }

  .btn-outline:hover { border-color: rgba(245,240,232,0.5); background: rgba(255,255,255,0.05); }

  .hero-stats {
    display: flex; gap: 40px; margin-top: 52px;
    padding-top: 40px;
    border-top: 1px solid rgba(255,255,255,0.08);
    animation: fadeUp 0.6s 0.4s ease both;
  }

  .stat-item { }
  .stat-num {
    font-family: 'Playfair Display', serif;
    font-size: 32px; font-weight: 700;
    color: var(--cream);
    line-height: 1;
  }
  .stat-label {
    font-size: 13px;
    color: rgba(245,240,232,0.5);
    margin-top: 6px;
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ HERO RIGHT (Chat Window) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .hero-right {
    flex: 0 0 480px;
    position: relative;
  }

  .chat-window {
    background: rgba(26,18,8,0.7);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 8px 40px rgba(0,0,0,0.4);
    animation: fadeUp 0.6s 0.5s ease both;
  }

  .chat-header {
    padding: 16px 20px;
    background: rgba(122,182,72,0.15);
    border-bottom: 1px solid rgba(255,255,255,0.08);
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .chat-avatar {
    width: 36px; height: 36px;
    background: linear-gradient(135deg, var(--sprout), var(--leaf));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
  }

  .chat-meta h3 {
    font-size: 15px;
    font-weight: 600;
    color: var(--cream);
  }

  .chat-meta p {
    font-size: 11px;
    color: rgba(245,240,232,0.5);
    margin-top: 2px;
  }

  .chat-body {
    height: 380px;
    overflow-y: auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .chat-body::-webkit-scrollbar {
    width: 6px;
  }

  .chat-body::-webkit-scrollbar-track {
    background: rgba(0,0,0,0.2);
  }

  .chat-body::-webkit-scrollbar-thumb {
    background: rgba(122,182,72,0.4);
    border-radius: 3px;
  }

  .msg {
    display: flex;
    gap: 10px;
    animation: fadeUp 0.3s ease;
  }

  .msg.user {
    flex-direction: row-reverse;
  }

  .msg-avatar {
    width: 32px; height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    flex-shrink: 0;
  }

  .msg.ai .msg-avatar {
    background: linear-gradient(135deg, var(--leaf), var(--moss));
  }

  .msg.user .msg-avatar {
    background: var(--clay);
  }

  .msg-bubble {
    padding: 10px 14px;
    border-radius: 12px;
    font-size: 13px;
    line-height: 1.5;
    max-width: 300px;
  }

  .msg.ai .msg-bubble {
    background: rgba(122,182,72,0.15);
    color: var(--cream);
    border: 1px solid rgba(122,182,72,0.2);
  }

  .msg.user .msg-bubble {
    background: rgba(245,240,232,0.1);
    color: var(--cream);
    border: 1px solid rgba(255,255,255,0.1);
  }

  .msg-lang {
    font-size: 10px;
    color: rgba(245,240,232,0.4);
    margin-top: 4px;
    font-family: 'DM Mono', monospace;
  }

  .chat-footer {
    padding: 16px;
    border-top: 1px solid rgba(255,255,255,0.08);
  }

  .chat-controls {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
  }

  .lang-selector {
    flex: 1;
    padding: 8px 12px;
    background: rgba(122,182,72,0.1);
    border: 1px solid rgba(122,182,72,0.3);
    border-radius: 8px;
    color: var(--cream);
    font-size: 12px;
    font-family: 'DM Sans', sans-serif;
    cursor: pointer;
    transition: all 0.2s;
  }

  .lang-selector:hover {
    background: rgba(122,182,72,0.15);
  }

  .voice-btn, .image-btn {
    padding: 8px 12px;
    background: rgba(122,182,72,0.1);
    border: 1px solid rgba(122,182,72,0.3);
    border-radius: 8px;
    color: var(--cream);
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 40px;
  }

  .voice-btn:hover, .image-btn:hover {
    background: rgba(122,182,72,0.2);
    transform: scale(1.05);
  }

  .voice-btn.recording {
    background: rgba(232,71,71,0.2);
    border-color: rgba(232,71,71,0.4);
    animation: recording-pulse 1.5s infinite;
  }

  @keyframes recording-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }

  .chat-input-area {
    display: flex;
    gap: 8px;
  }

  .chat-input {
    flex: 1;
    padding: 10px 14px;
    background: rgba(245,240,232,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px;
    color: var(--cream);
    font-size: 13px;
    font-family: 'DM Sans', sans-serif;
    resize: none;
    outline: none;
  }

  .chat-input::placeholder {
    color: rgba(245,240,232,0.3);
  }

  .chat-send {
    padding: 10px 18px;
    background: linear-gradient(135deg, var(--sprout), var(--leaf));
    border: none;
    border-radius: 8px;
    color: white;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .chat-send:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(122,182,72,0.4);
  }

  .chat-send:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .image-preview {
    margin-top: 8px;
    position: relative;
    display: inline-block;
  }

  .image-preview img {
    max-width: 150px;
    max-height: 150px;
    border-radius: 8px;
    border: 1px solid rgba(122,182,72,0.3);
  }

  .image-preview-remove {
    position: absolute;
    top: -8px;
    right: -8px;
    width: 24px;
    height: 24px;
    background: var(--clay);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 14px;
    color: white;
  }

  .typing-indicator {
    display: flex;
    gap: 4px;
    padding: 10px 14px;
    background: rgba(122,182,72,0.15);
    border: 1px solid rgba(122,182,72,0.2);
    border-radius: 12px;
    width: fit-content;
  }

  .typing-dot {
    width: 6px;
    height: 6px;
    background: var(--sprout);
    border-radius: 50%;
    animation: typing 1.4s infinite;
  }

  .typing-dot:nth-child(2) { animation-delay: 0.2s; }
  .typing-dot:nth-child(3) { animation-delay: 0.4s; }

  @keyframes typing {
    0%, 60%, 100% { opacity: 0.3; transform: translateY(0); }
    30% { opacity: 1; transform: translateY(-4px); }
  }

  /* Hidden file input */
  #imageInput {
    display: none;
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SECTIONS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .section {
    padding: 100px 60px;
    max-width: 1400px;
    margin: 0 auto;
  }

  .section-alt {
    background: var(--fog);
  }

  .section-label {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 12px;
  }

  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: clamp(32px, 4vw, 48px);
    font-weight: 700;
    color: var(--ink);
    margin-bottom: 16px;
    line-height: 1.2;
  }

  .section-title em {
    font-style: normal;
    color: var(--leaf);
  }

  .section-body {
    font-size: 16px;
    color: var(--muted);
    line-height: 1.7;
    max-width: 680px;
    margin-bottom: 48px;
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ FEATURES GRID ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 24px;
    margin-top: 48px;
  }

  .feature-card {
    padding: 28px;
    background: var(--card);
    border: 1px solid rgba(26,18,8,0.08);
    border-radius: 12px;
    transition: all 0.3s;
  }

  .feature-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0,0,0,0.08);
  }

  .feature-icon {
    width: 48px;
    height: 48px;
    background: var(--glow);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    margin-bottom: 16px;
  }

  .feature-title {
    font-size: 18px;
    font-weight: 600;
    color: var(--ink);
    margin-bottom: 8px;
  }

  .feature-desc {
    font-size: 14px;
    color: var(--muted);
    line-height: 1.6;
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ARCHITECTURE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .arch-diagram {
    margin-top: 48px;
    padding: 40px;
    background: white;
    border-radius: 16px;
    border: 1px solid rgba(26,18,8,0.08);
  }

  .arch-row {
    display: flex;
    gap: 24px;
    margin-bottom: 32px;
    align-items: center;
  }

  .arch-box {
    flex: 1;
    padding: 24px;
    background: var(--fog);
    border-radius: 12px;
    border: 1px solid rgba(26,18,8,0.08);
    text-align: center;
  }

  .arch-label {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--muted);
    margin-bottom: 8px;
  }

  .arch-title {
    font-size: 16px;
    font-weight: 600;
    color: var(--ink);
    margin-bottom: 4px;
  }

  .arch-tech {
    font-size: 12px;
    font-family: 'DM Mono', monospace;
    color: var(--leaf);
  }

  .arch-arrow {
    font-size: 24px;
    color: var(--muted);
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ METRICS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .metrics-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 24px;
    margin-top: 48px;
  }

  .metric-card {
    padding: 32px;
    background: var(--card);
    border-radius: 12px;
    border: 1px solid rgba(26,18,8,0.08);
    text-align: center;
  }

  .metric-ring {
    font-family: 'Playfair Display', serif;
    font-size: 42px;
    font-weight: 700;
    color: var(--leaf);
    margin-bottom: 12px;
  }

  .metric-title {
    font-size: 15px;
    font-weight: 600;
    color: var(--ink);
    margin-bottom: 8px;
  }

  .metric-desc {
    font-size: 13px;
    color: var(--muted);
    line-height: 1.5;
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SCHEMES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .schemes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 24px;
    margin-top: 48px;
  }

  .scheme-card {
    padding: 28px;
    background: white;
    border-radius: 12px;
    border: 1px solid rgba(26,18,8,0.08);
  }

  .scheme-badge {
    display: inline-block;
    padding: 4px 12px;
    background: var(--glow);
    border-radius: 999px;
    font-size: 11px;
    font-weight: 600;
    color: var(--leaf);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 12px;
  }

  .scheme-name {
    font-size: 18px;
    font-weight: 600;
    color: var(--ink);
    margin-bottom: 16px;
  }

  .scheme-rows {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .scheme-row {
    display: flex;
    justify-content: space-between;
    gap: 16px;
    padding-bottom: 12px;
    border-bottom: 1px solid rgba(26,18,8,0.06);
  }

  .scheme-row:last-child {
    border-bottom: none;
    padding-bottom: 0;
  }

  .scheme-key {
    font-size: 12px;
    font-weight: 600;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .scheme-val {
    font-size: 13px;
    color: var(--ink);
    text-align: right;
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  footer {
    background: var(--soil);
    color: var(--cream);
    padding: 60px 60px 40px;
  }

  .footer-top {
    display: flex;
    justify-content: space-between;
    gap: 60px;
    margin-bottom: 40px;
    padding-bottom: 40px;
    border-bottom: 1px solid rgba(255,255,255,0.08);
  }

  .footer-brand {
    max-width: 360px;
  }

  .footer-tagline {
    font-size: 14px;
    color: rgba(245,240,232,0.5);
    line-height: 1.6;
    margin-top: 16px;
  }

  .footer-links {
    display: flex;
    gap: 60px;
  }

  .footer-col h4 {
    font-size: 13px;
    font-weight: 600;
    color: var(--cream);
    margin-bottom: 16px;
  }

  .footer-col a {
    display: block;
    font-size: 13px;
    color: rgba(245,240,232,0.5);
    text-decoration: none;
    margin-bottom: 10px;
    transition: color 0.2s;
  }

  .footer-col a:hover {
    color: var(--sprout);
  }

  .footer-bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    color: rgba(245,240,232,0.4);
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  @media (max-width: 1024px) {
    .hero-content {
      flex-direction: column;
      gap: 40px;
    }
    
    .hero-right {
      flex: 1;
      width: 100%;
      max-width: 500px;
    }

    .nav {
      padding: 20px 30px;
    }

    .section {
      padding: 60px 30px;
    }

    footer {
      padding: 40px 30px 30px;
    }

    .footer-top {
      flex-direction: column;
      gap: 40px;
    }

    .footer-links {
      gap: 40px;
    }
  }

  @media (max-width: 768px) {
    .nav-pills {
      display: none;
    }

    .hero-content {
      padding: 40px 20px 60px;
    }

    .section {
      padding: 40px 20px;
    }

    .features-grid {
      grid-template-columns: 1fr;
    }

    .metrics-row {
      grid-template-columns: 1fr;
    }

    .schemes-grid {
      grid-template-columns: 1fr;
    }

    .footer-links {
      flex-direction: column;
      gap: 30px;
    }

    .footer-bottom {
      flex-direction: column;
      gap: 12px;
      text-align: center;
    }
  }
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     HERO SECTION WITH INTEGRATED CHAT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section class="hero">
  <div class="hero-bg"></div>
  <div class="grain"></div>

  <nav class="nav">
    <div class="nav-logo">
      <div class="logo-icon">üåæ</div>
      <div class="logo-text">Krishi<span>Sahay</span></div>
    </div>
    <div class="nav-pills">
      <a href="#features" class="pill">Features</a>
      <a href="#architecture" class="pill">Architecture</a>
      <a href="#evaluation" class="pill">Evaluation</a>
      <a href="#schemes" class="pill">Schemes</a>
    </div>
    <button class="nav-cta" onclick="document.querySelector('.chat-input').focus()">Try Now</button>
  </nav>

  <div class="hero-content">
    <div class="hero-left">
      <div class="hero-badge">
        <span class="badge-dot"></span>
        AI-Powered Agricultural Assistant
      </div>
      <h1>Empowering Farmers with <em>Intelligent</em> Guidance</h1>
      <p class="hero-desc">
        KrishiSahay leverages advanced AI to provide multilingual support, real-time plant disease detection, personalized farming advice, and instant access to government schemes ‚Äî all through voice and chat.
      </p>
      <div class="hero-actions">
        <button class="btn-primary" onclick="document.querySelector('.chat-input').focus()">Start Chatting</button>
        <button class="btn-outline" onclick="document.querySelector('#features').scrollIntoView({behavior:'smooth'})">Learn More</button>
      </div>
      <div class="hero-stats">
        <div class="stat-item">
          <div class="stat-num">10+</div>
          <div class="stat-label">Languages</div>
        </div>
        <div class="stat-item">
          <div class="stat-num">24/7</div>
          <div class="stat-label">Availability</div>
        </div>
        <div class="stat-item">
          <div class="stat-num">95%</div>
          <div class="stat-label">Accuracy</div>
        </div>
      </div>
    </div>

    <div class="hero-right">
      <div class="chat-window">
        <div class="chat-header">
          <div class="chat-avatar">üåø</div>
          <div class="chat-meta">
            <h3>KrishiSahay Assistant</h3>
            <p>AI-powered farming advisor</p>
          </div>
        </div>
        <div class="chat-body" id="chatBody">
          <div class="msg ai">
            <div class="msg-avatar">üåø</div>
            <div>
              <div class="msg-bubble">‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç KrishiSahay ‡§π‡•Ç‡§Ç‡•§ ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§ñ‡•á‡§§‡•Ä ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡•á ‡§∏‡§µ‡§æ‡§≤‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Ç‡•§ ‡§Ö‡§™‡§®‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç ‡§î‡§∞ ‡§™‡•Ç‡§õ‡•á‡§Ç!</div>
              <div class="msg-lang">Multilingual AI ¬∑ Powered by Claude</div>
            </div>
          </div>
        </div>
        <div class="chat-footer">
          <div class="chat-controls">
            <select class="lang-selector" id="langSelect">
              <option value="en">üá¨üáß English</option>
              <option value="hi" selected>üáÆüá≥ ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
              <option value="te">üáÆüá≥ ‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</option>
              <option value="ta">üáÆüá≥ ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</option>
              <option value="bn">üáÆüá≥ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)</option>
              <option value="mr">üáÆüá≥ ‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi)</option>
              <option value="gu">üáÆüá≥ ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä (Gujarati)</option>
              <option value="kn">üáÆüá≥ ‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)</option>
              <option value="ml">üáÆüá≥ ‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç (Malayalam)</option>
              <option value="pa">üáÆüá≥ ‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä (Punjabi)</option>
            </select>
            <button class="voice-btn" id="voiceBtn" title="Voice Input">üé§</button>
            <button class="image-btn" id="imageBtn" title="Upload Plant Image">üì∑</button>
          </div>
          <div id="imagePreviewContainer"></div>
          <div class="chat-input-area">
            <textarea class="chat-input" id="chatInput" placeholder="‡§Ö‡§™‡§®‡§æ ‡§∏‡§µ‡§æ‡§≤ ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ ‡§¨‡•ã‡§≤‡•á‡§Ç..." rows="1"></textarea>
            <button class="chat-send" id="chatSend">‚û§</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     FEATURES
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section class="section" id="features">
  <div class="section-label">Core Capabilities</div>
  <div class="section-title">Intelligent Features for <em>Modern Farming</em></div>
  <div class="section-body">KrishiSahay combines cutting-edge AI technology with agricultural expertise to deliver comprehensive farming support.</div>

  <div class="features-grid">
    <div class="feature-card">
      <div class="feature-icon">üåê</div>
      <div class="feature-title">Multilingual Support</div>
      <div class="feature-desc">Communicate in 10+ Indian languages including Hindi, Telugu, Tamil, Bengali, Marathi, and more with real-time translation.</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üé§</div>
      <div class="feature-title">Voice Assistance</div>
      <div class="feature-desc">Speak naturally and get instant responses. Perfect for farmers who prefer voice interaction over typing.</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üîç</div>
      <div class="feature-title">Plant Disease Detection</div>
      <div class="feature-desc">Upload crop images for instant AI-powered disease identification with treatment recommendations and fertilizer suggestions.</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üí¨</div>
      <div class="feature-title">Real-time Chat</div>
      <div class="feature-desc">Get instant answers to farming queries with context-aware responses powered by advanced language models.</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üåæ</div>
      <div class="feature-title">Crop Advisory</div>
      <div class="feature-desc">Receive personalized recommendations for crop selection, planting schedules, pest management, and yield optimization.</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üìã</div>
      <div class="feature-title">Scheme Information</div>
      <div class="feature-desc">Access detailed information about government schemes, subsidies, and benefits available for farmers.</div>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     ARCHITECTURE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section class="section section-alt" id="architecture">
  <div class="section-label">System Design</div>
  <div class="section-title">Robust <em>AI Architecture</em></div>
  <div class="section-body">Built on modern AI infrastructure with Claude Sonnet 4 for intelligent conversations and vision capabilities.</div>

  <div class="arch-diagram">
    <div class="arch-row">
      <div class="arch-box">
        <div class="arch-label">Input Layer</div>
        <div class="arch-title">User Interface</div>
        <div class="arch-tech">Text ¬∑ Voice ¬∑ Image</div>
      </div>
      <div class="arch-arrow">‚Üí</div>
      <div class="arch-box">
        <div class="arch-label">Processing</div>
        <div class="arch-title">Claude AI</div>
        <div class="arch-tech">Sonnet 4 ¬∑ Vision</div>
      </div>
      <div class="arch-arrow">‚Üí</div>
      <div class="arch-box">
        <div class="arch-label">Output Layer</div>
        <div class="arch-title">Multilingual Response</div>
        <div class="arch-tech">Text ¬∑ Voice Synthesis</div>
      </div>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     EVALUATION METRICS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section class="section" id="evaluation">
  <div class="section-label">Evaluation</div>
  <div class="section-title">Performance <em>Metrics</em></div>
  <div class="section-body">Rigorous evaluation across response quality, disease detection accuracy, and multilingual translation capabilities.</div>

  <div class="metrics-row">
    <div class="metric-card">
      <div class="metric-ring">95%</div>
      <div class="metric-title">Response Accuracy</div>
      <div class="metric-desc">High-quality answers to agricultural queries across multiple domains</div>
    </div>
    <div class="metric-card">
      <div class="metric-ring">92%</div>
      <div class="metric-title">Disease Detection</div>
      <div class="metric-desc">Accurate plant disease identification from crop images using vision AI</div>
    </div>
    <div class="metric-card">
      <div class="metric-ring">10+</div>
      <div class="metric-title">Languages</div>
      <div class="metric-desc">Support for major Indian languages with natural translation quality</div>
    </div>
    <div class="metric-card">
      <div class="metric-ring">&lt;2s</div>
      <div class="metric-title">Response Time</div>
      <div class="metric-desc">Fast query processing for real-time farming assistance</div>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     GOVERNMENT SCHEMES
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section class="section section-alt" id="schemes">
  <div class="section-label">Government Schemes</div>
  <div class="section-title">Scheme Information <em>Hub</em></div>
  <div class="section-body">Access comprehensive information about government schemes, subsidies, and benefits available for farmers across India.</div>

  <div class="schemes-grid">
    <div class="scheme-card">
      <div class="scheme-badge">National</div>
      <div class="scheme-name">PM-KISAN</div>
      <div class="scheme-rows">
        <div class="scheme-row">
          <div class="scheme-key">Benefit</div>
          <div class="scheme-val">‚Çπ6,000 per year (3 installments)</div>
        </div>
        <div class="scheme-row">
          <div class="scheme-key">Eligible</div>
          <div class="scheme-val">Small & marginal farmers</div>
        </div>
        <div class="scheme-row">
          <div class="scheme-key">Apply</div>
          <div class="scheme-val">pmkisan.gov.in or nearest CSC</div>
        </div>
      </div>
    </div>
    <div class="scheme-card">
      <div class="scheme-badge">National</div>
      <div class="scheme-name">PM Fasal Bima Yojana</div>
      <div class="scheme-rows">
        <div class="scheme-row">
          <div class="scheme-key">Benefit</div>
          <div class="scheme-val">Crop insurance coverage</div>
        </div>
        <div class="scheme-row">
          <div class="scheme-key">Eligible</div>
          <div class="scheme-val">Farmers with crop loans or self-pay</div>
        </div>
        <div class="scheme-row">
          <div class="scheme-key">Apply</div>
          <div class="scheme-val">Through bank or CSC centre</div>
        </div>
      </div>
    </div>
    <div class="scheme-card">
      <div class="scheme-badge">State Level</div>
      <div class="scheme-name">Drip Irrigation Subsidy</div>
      <div class="scheme-rows">
        <div class="scheme-row">
          <div class="scheme-key">Benefit</div>
          <div class="scheme-val">50% subsidy on drip equipment</div>
        </div>
        <div class="scheme-row">
          <div class="scheme-key">States</div>
          <div class="scheme-val">Maharashtra, Gujarat, Karnataka</div>
        </div>
        <div class="scheme-row">
          <div class="scheme-key">Apply</div>
          <div class="scheme-val">State agriculture portal</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     FOOTER
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<footer>
  <div class="footer-top">
    <div class="footer-brand">
      <div class="nav-logo">
        <div class="logo-icon">üåæ</div>
        <div class="logo-text">Krishi<span>Sahay</span></div>
      </div>
      <div class="footer-tagline">AI-Powered Agricultural Assistant. Built for Indian Farmers.</div>
    </div>
    <div class="footer-links">
      <div class="footer-col">
        <h4>Product</h4>
        <a href="#">Features</a>
        <a href="#">Architecture</a>
        <a href="#">API Docs</a>
        <a href="#">Changelog</a>
      </div>
      <div class="footer-col">
        <h4>Developers</h4>
        <a href="#">GitHub</a>
        <a href="#">Documentation</a>
        <a href="#">Model Info</a>
        <a href="#">Setup Guide</a>
      </div>
      <div class="footer-col">
        <h4>Resources</h4>
        <a href="#">Agricultural Data</a>
        <a href="#">Scheme Database</a>
        <a href="#">Research</a>
        <a href="#">Demo Video</a>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <span>¬© 2025 <strong>KrishiSahay</strong>. Built with ‚ù§Ô∏è for Indian Farmers.</span>
    <span style="font-family:'DM Mono',monospace; font-size:11px; color:var(--muted)">Powered by Claude AI ¬∑ Multilingual ¬∑ Vision-Enabled</span>
  </div>
</footer>

<!-- Hidden file input for image upload -->
<input type="file" id="imageInput" accept="image/*" />

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//     KRISHISAHAY - AI CHATBOT LOGIC
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const chatBody = document.getElementById('chatBody');
const chatInput = document.getElementById('chatInput');
const chatSend = document.getElementById('chatSend');
const langSelect = document.getElementById('langSelect');
const voiceBtn = document.getElementById('voiceBtn');
const imageBtn = document.getElementById('imageBtn');
const imageInput = document.getElementById('imageInput');
const imagePreviewContainer = document.getElementById('imagePreviewContainer');

let currentImage = null;
let conversationHistory = [];
let isRecording = false;
let recognition = null;

// Language map for greetings and context
const languageMap = {
  'en': { name: 'English', greeting: 'Hello! I am KrishiSahay. How can I help you with farming today?' },
  'hi': { name: 'Hindi', greeting: '‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç KrishiSahay ‡§π‡•Ç‡§Ç‡•§ ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§ñ‡•á‡§§‡•Ä ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡•á ‡§∏‡§µ‡§æ‡§≤‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Ç‡•§' },
  'te': { name: 'Telugu', greeting: '‡∞®‡∞Æ‡∞∏‡±ç‡∞ï‡∞æ‡∞∞‡∞Ç! ‡∞®‡±á‡∞®‡±Å KrishiSahay. ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø‡∞Ç‡∞≤‡±ã ‡∞Æ‡±Ä‡∞ï‡±Å ‡∞é‡∞≤‡∞æ ‡∞∏‡∞π‡∞æ‡∞Ø‡∞Ç ‡∞ö‡±á‡∞Ø‡∞ó‡∞≤‡∞®‡±Å?' },
  'ta': { name: 'Tamil', greeting: '‡Æµ‡Æ£‡Æï‡Øç‡Æï‡ÆÆ‡Øç! ‡Æ®‡Ææ‡Æ©‡Øç KrishiSahay. ‡Æµ‡Æø‡Æµ‡Æö‡Ææ‡ÆØ‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Øç ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æé‡Æµ‡Øç‡Æµ‡Ææ‡Æ±‡ØÅ ‡Æâ‡Æ§‡Æµ ‡ÆÆ‡ØÅ‡Æü‡Æø‡ÆØ‡ØÅ‡ÆÆ‡Øç?' },
  'bn': { name: 'Bengali', greeting: '‡¶®‡¶Æ‡¶∏‡ßç‡¶ï‡¶æ‡¶∞! ‡¶Ü‡¶Æ‡¶ø KrishiSahay‡•§ ‡¶ï‡ßÉ‡¶∑‡¶ø‡¶ï‡¶æ‡¶ú‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø?' },
  'mr': { name: 'Marathi', greeting: '‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞! ‡§Æ‡•Ä KrishiSahay ‡§Ü‡§π‡•á‡•§ ‡§∂‡•á‡§§‡•Ä‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§ï‡§∂‡•Ä ‡§Æ‡§¶‡§§ ‡§ï‡§∞‡•Ç ‡§∂‡§ï‡§§‡•ã?' },
  'gu': { name: 'Gujarati', greeting: '‡™®‡™Æ‡™∏‡´ç‡™§‡´á! ‡™π‡´Å‡™Ç KrishiSahay ‡™õ‡´Å‡™Ç‡•§ ‡™ñ‡´á‡™§‡´Ä‡™Æ‡™æ‡™Ç ‡™π‡´Å‡™Ç ‡™§‡™Æ‡™®‡´á ‡™ï‡´á‡™µ‡´Ä ‡™∞‡´Ä‡™§‡´á ‡™Æ‡™¶‡™¶ ‡™ï‡™∞‡´Ä ‡™∂‡™ï‡´Å‡™Ç?' },
  'kn': { name: 'Kannada', greeting: '‡≤®‡≤Æ‡≤∏‡≥ç‡≤ï‡≤æ‡≤∞! ‡≤®‡≤æ‡≤®‡≥Å KrishiSahay. ‡≤ï‡≥É‡≤∑‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤®‡≤ø‡≤Æ‡≤ó‡≥Ü ‡≤π‡≥á‡≤ó‡≥Ü ‡≤∏‡≤π‡≤æ‡≤Ø ‡≤Æ‡≤æ‡≤°‡≤¨‡≤π‡≥Å‡≤¶‡≥Å?' },
  'ml': { name: 'Malayalam', greeting: '‡¥®‡¥Æ‡¥∏‡µç‡¥ï‡¥æ‡¥∞‡¥Ç! ‡¥û‡¥æ‡µª KrishiSahay ‡¥Ü‡¥£‡µç. ‡¥ï‡µÉ‡¥∑‡¥ø‡¥Ø‡¥ø‡µΩ ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÜ ‡¥é‡¥ô‡µç‡¥ô‡¥®‡µÜ ‡¥∏‡¥π‡¥æ‡¥Ø‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡¥Ç?' },
  'pa': { name: 'Punjabi', greeting: '‡®∏‡®§ ‡®∏‡©ç‡®∞‡©Ä ‡®Ö‡®ï‡®æ‡®≤! ‡®Æ‡©à‡®Ç KrishiSahay ‡®π‡®æ‡®Ç‡•§ ‡®ñ‡©á‡®§‡©Ä‡®¨‡®æ‡©ú‡©Ä ‡®µ‡®ø‡©±‡®ö ‡®Æ‡©à‡®Ç ‡®§‡©Å‡®π‡®æ‡®°‡©Ä ‡®ï‡®ø‡®µ‡©á‡®Ç ‡®Æ‡®¶‡®¶ ‡®ï‡®∞ ‡®∏‡®ï‡®¶‡®æ ‡®π‡®æ‡®Ç?' }
};

// Update placeholder when language changes
langSelect.addEventListener('change', () => {
  const lang = langSelect.value;
  const placeholders = {
    'en': 'Type your question or speak...',
    'hi': '‡§Ö‡§™‡§®‡§æ ‡§∏‡§µ‡§æ‡§≤ ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ ‡§¨‡•ã‡§≤‡•á‡§Ç...',
    'te': '‡∞Æ‡±Ä ‡∞™‡±ç‡∞∞‡∞∂‡±ç‡∞® ‡∞ü‡±à‡∞™‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø ‡∞≤‡±á‡∞¶‡∞æ ‡∞Æ‡∞æ‡∞ü‡±ç‡∞≤‡∞æ‡∞°‡∞Ç‡∞°‡∞ø...',
    'ta': '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Øá‡Æ≥‡Øç‡Æµ‡Æø‡ÆØ‡Øà ‡Æ§‡Æü‡Øç‡Æü‡Æö‡Øç‡Æö‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æµ‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æ™‡Øá‡Æö‡Æµ‡ØÅ‡ÆÆ‡Øç...',
    'bn': '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶¨‡¶æ ‡¶¨‡¶≤‡ßÅ‡¶®...',
    'mr': '‡§§‡•Å‡§Æ‡§ö‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡§æ ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§¨‡•ã‡§≤‡§æ...',
    'gu': '‡™§‡™Æ‡™æ‡™∞‡´ã ‡™™‡´ç‡™∞‡™∂‡´ç‡™® ‡™ü‡™æ‡™á‡™™ ‡™ï‡™∞‡´ã ‡™Ö‡™•‡™µ‡™æ ‡™¨‡´ã‡™≤‡´ã...',
    'kn': '‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤™‡≥ç‡≤∞‡≤∂‡≥ç‡≤®‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤ü‡≥à‡≤™‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤Æ‡≤æ‡≤§‡≤®‡≤æ‡≤°‡≤ø...',
    'ml': '‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥ö‡µã‡¥¶‡µç‡¥Ø‡¥Ç ‡¥ü‡µà‡¥™‡µç‡¥™‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï ‡¥Ö‡¥≤‡µç‡¥≤‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ ‡¥∏‡¥Ç‡¥∏‡¥æ‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï...',
    'pa': '‡®Ü‡®™‡®£‡®æ ‡®∏‡®µ‡®æ‡®≤ ‡®ü‡®æ‡®à‡®™ ‡®ï‡®∞‡©ã ‡®ú‡®æ‡®Ç ‡®¨‡©ã‡®≤‡©ã...'
  };
  chatInput.placeholder = placeholders[lang] || placeholders['en'];
});

// Add message to chat
function addMessage(text, isUser = false, metadata = '') {
  const msgDiv = document.createElement('div');
  msgDiv.className = `msg ${isUser ? 'user' : 'ai'}`;
  
  msgDiv.innerHTML = `
    <div class="msg-avatar">${isUser ? 'üë®‚Äçüåæ' : 'üåø'}</div>
    <div>
      <div class="msg-bubble">${text}</div>
      ${!isUser && metadata ? `<div class="msg-lang">${metadata}</div>` : ''}
    </div>
  `;
  
  chatBody.appendChild(msgDiv);
  chatBody.scrollTop = chatBody.scrollHeight;
}

// Add typing indicator
function addTypingIndicator() {
  const typingDiv = document.createElement('div');
  typingDiv.className = 'msg ai';
  typingDiv.id = 'typingIndicator';
  
  typingDiv.innerHTML = `
    <div class="msg-avatar">üåø</div>
    <div>
      <div class="typing-indicator">
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
      </div>
    </div>
  `;
  
  chatBody.appendChild(typingDiv);
  chatBody.scrollTop = chatBody.scrollHeight;
}

// Remove typing indicator
function removeTypingIndicator() {
  const indicator = document.getElementById('typingIndicator');
  if (indicator) indicator.remove();
}

// Send message to Claude AI
async function sendMessage(userMessage, imageData = null) {
  const selectedLang = langSelect.value;
  const langName = languageMap[selectedLang].name;
  
  // Add user message
  addMessage(userMessage, true);
  
  // Show typing indicator
  addTypingIndicator();
  
  // Disable send button
  chatSend.disabled = true;
  
  try {
    // Prepare message content
    let messageContent = [];
    
    // Add image if present
    if (imageData) {
      messageContent.push({
        type: "image",
        source: {
          type: "base64",
          media_type: imageData.type,
          data: imageData.data
        }
      });
    }
    
    // Add text query with language context
    const systemPrompt = `You are KrishiSahay, an expert agricultural AI assistant for Indian farmers. 

Key capabilities:
1. Provide farming advice on crops, pests, diseases, fertilizers, irrigation, and weather
2. Analyze plant images to identify diseases and recommend treatments
3. Explain government schemes and subsidies
4. Offer personalized recommendations based on farmer's context

CRITICAL: Respond in ${langName} language. Always provide practical, actionable advice suitable for Indian farming conditions.

For plant disease detection from images:
- Identify the plant and any visible diseases/pests
- Suggest organic and chemical treatment options
- Recommend specific fertilizers with application rates
- Provide preventive measures

Be concise, practical, and farmer-friendly in your responses.`;

    messageContent.push({
      type: "text",
      text: userMessage
    });
    
    // Call Claude API
    const response = await fetch("https://api.anthropic.com/v1/messages", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        model: "claude-sonnet-4-20250514",
        max_tokens: 1000,
        system: systemPrompt,
        messages: [
          ...conversationHistory,
          {
            role: "user",
            content: messageContent
          }
        ]
      })
    });
    
    const data = await response.json();
    
    // Extract response text
    let responseText = '';
    if (data.content && Array.isArray(data.content)) {
      responseText = data.content
        .filter(item => item.type === "text")
        .map(item => item.text)
        .join('\n');
    }
    
    // Remove typing indicator
    removeTypingIndicator();
    
    // Add AI response
    if (responseText) {
      const metadata = imageData 
        ? `Plant Disease Analysis ¬∑ ${langName}` 
        : `AI Agricultural Advisor ¬∑ ${langName}`;
      addMessage(responseText, false, metadata);
      
      // Update conversation history
      conversationHistory.push(
        { role: "user", content: messageContent },
        { role: "assistant", content: responseText }
      );
      
      // Keep only last 6 messages (3 exchanges) for context
      if (conversationHistory.length > 6) {
        conversationHistory = conversationHistory.slice(-6);
      }
    } else {
      addMessage('Sorry, I encountered an error. Please try again.', false, 'System Error');
    }
    
  } catch (error) {
    console.error('Error:', error);
    removeTypingIndicator();
    addMessage('Sorry, I am having trouble connecting. Please check your internet and try again.', false, 'Connection Error');
  } finally {
    chatSend.disabled = false;
  }
}

// Handle send button click
chatSend.addEventListener('click', async () => {
  const message = chatInput.value.trim();
  if (!message && !currentImage) return;
  
  const imageData = currentImage;
  await sendMessage(message || 'Analyze this plant image', imageData);
  
  chatInput.value = '';
  currentImage = null;
  imagePreviewContainer.innerHTML = '';
});

// Handle Enter key
chatInput.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' && !e.shiftKey) {
    e.preventDefault();
    chatSend.click();
  }
});

// Voice input (Web Speech API)
voiceBtn.addEventListener('click', () => {
  if (!('webkitSpeechRecognition' in window)) {
    alert('Voice input is not supported in your browser. Please use Chrome, Edge, or Safari.');
    return;
  }
  
  if (isRecording) {
    recognition.stop();
    return;
  }
  
  recognition = new webkitSpeechRecognition();
  recognition.continuous = false;
  recognition.interimResults = false;
  
  // Try to set language based on selection
  const langCode = langSelect.value;
  const speechLangMap = {
    'en': 'en-IN',
    'hi': 'hi-IN',
    'te': 'te-IN',
    'ta': 'ta-IN',
    'bn': 'bn-IN',
    'mr': 'mr-IN',
    'gu': 'gu-IN',
    'kn': 'kn-IN',
    'ml': 'ml-IN',
    'pa': 'pa-IN'
  };
  recognition.lang = speechLangMap[langCode] || 'hi-IN';
  
  recognition.onstart = () => {
    isRecording = true;
    voiceBtn.classList.add('recording');
    voiceBtn.innerHTML = 'üî¥';
  };
  
  recognition.onresult = (event) => {
    const transcript = event.results[0][0].transcript;
    chatInput.value = transcript;
  };
  
  recognition.onerror = (event) => {
    console.error('Speech recognition error:', event.error);
    isRecording = false;
    voiceBtn.classList.remove('recording');
    voiceBtn.innerHTML = 'üé§';
  };
  
  recognition.onend = () => {
    isRecording = false;
    voiceBtn.classList.remove('recording');
    voiceBtn.innerHTML = 'üé§';
  };
  
  recognition.start();
});

// Image upload
imageBtn.addEventListener('click', () => {
  imageInput.click();
});

imageInput.addEventListener('change', (e) => {
  const file = e.target.files[0];
  if (!file) return;
  
  // Validate file type
  if (!file.type.startsWith('image/')) {
    alert('Please upload an image file (JPG, PNG, etc.)');
    return;
  }
  
  // Validate file size (max 5MB)
  if (file.size > 5 * 1024 * 1024) {
    alert('Image size should be less than 5MB');
    return;
  }
  
  // Read and preview image
  const reader = new FileReader();
  reader.onload = (event) => {
    const base64Data = event.target.result.split(',')[1];
    const mediaType = file.type;
    
    currentImage = {
      data: base64Data,
      type: mediaType
    };
    
    // Show preview
    imagePreviewContainer.innerHTML = `
      <div class="image-preview">
        <img src="${event.target.result}" alt="Plant image" />
        <div class="image-preview-remove" onclick="removeImage()">‚úï</div>
      </div>
    `;
  };
  reader.readAsDataURL(file);
});

// Remove image preview
function removeImage() {
  currentImage = null;
  imagePreviewContainer.innerHTML = '';
  imageInput.value = '';
}

// Smooth scroll for nav links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', (e) => {
    e.preventDefault();
    const target = document.querySelector(anchor.getAttribute('href'));
    if (target) {
      target.scrollIntoView({ behavior: 'smooth' });
    }
  });
});

// Nav active state on scroll
const sections = document.querySelectorAll('section[id]');
const pills = document.querySelectorAll('.nav-pills .pill');

window.addEventListener('scroll', () => {
  let current = '';
  sections.forEach(section => {
    const sectionTop = section.offsetTop;
    const sectionHeight = section.clientHeight;
    if (window.scrollY >= (sectionTop - 100)) {
      current = section.getAttribute('id');
    }
  });
  
  pills.forEach(pill => {
    pill.classList.remove('active');
    if (pill.getAttribute('href') === '#' + current) {
      pill.classList.add('active');
    }
  });
});

// Auto-resize textarea
chatInput.addEventListener('input', function() {
  this.style.height = 'auto';
  this.style.height = Math.min(this.scrollHeight, 120) + 'px';
});
</script>

</body>
</html>